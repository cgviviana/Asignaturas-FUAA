<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Organizadores gráficos · Drag & Drop (18 ítems)</title>
  <style>
    :root{
      --bg:#0b1220;
      --panel:#0f1b3c;
      --card:#111b33;
      --ink:#eaf2ff;
      --muted:#a9b9e6;
      --brand:#5b9cff;
      --ok:#22c55e;
      --err:#ef4444;
      --line:#1f2b52;
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:Inter,Arial,sans-serif;background:var(--bg);color:var(--ink)}
    header{padding:16px;text-align:center;border-bottom:1px solid var(--line)}
    .panel{background:var(--panel);border:1px solid var(--line);border-radius:12px;margin:12px;padding:12px}
    .bank,.board{display:grid;gap:12px}
    .bank{grid-template-columns:repeat(auto-fit,minmax(140px,1fr))}
    .pill{background:var(--card);padding:10px;border-radius:8px;cursor:grab;text-align:center}
    .drop{background:#0d162b;padding:16px;min-height:60px;border:2px dashed #334; border-radius:8px}
    .drop.dragover{border-color:var(--brand)}
    .drop.lock.ok{border-color:var(--ok)}
    .drop.lock.err{border-color:var(--err)}
    .stats{display:flex;gap:16px;margin:12px}
    .stats div{flex:1;text-align:center;background:var(--card);padding:8px;border-radius:8px}
    button{margin:8px;padding:8px 12px;border:0;border-radius:8px;cursor:pointer;background:var(--brand);color:#fff}
  </style>
</head>
<body>
  <header>
    <h1>Organizadores gráficos · Arrastra y suelta</h1>
    <p>Arrastra <strong>el nombre</strong> y suéltalo en la definición correspondiente.</p>
  </header>

  <main>
    <div class="panel">
      <label>Tu nombre: <input id="name" type="text"></label>
      <button id="btnStart">Iniciar</button>
    </div>

    <div class="panel">
      <h2>Banco de nombres</h2>
      <div id="bank" class="bank"></div>
    </div>

    <div class="panel">
      <h2>Definiciones</h2>
      <div id="board" class="board"></div>
    </div>

    <div class="stats">
      <div>Aciertos: <span id="ok">0</span></div>
      <div>Desaciertos: <span id="err">0</span></div>
      <div>Restantes: <span id="left">18</span></div>
    </div>

    <button id="btnFinish">Finalizar</button>

    <div id="result"></div>
  </main>

  <script>
    const ITEMS=[
      {key:"mapa_mental",term:"Mapa mental",def:"Estructura radial que parte de una idea central."},
      {key:"mapa_conceptual",term:"Mapa conceptual",def:"Red de conceptos jerárquicos unidos con palabras enlace."},
      {key:"cuadro_comparativo",term:"Cuadro comparativo",def:"Tabla que muestra semejanzas y diferencias."},
      {key:"venn",term:"Diagrama de Venn",def:"Círculos superpuestos que muestran intersecciones."},
      {key:"linea_tiempo",term:"Línea de tiempo",def:"Secuencia cronológica de eventos."},
      {key:"jerarquico",term:"Organizador jerárquico",def:"Clasificación en niveles de generalidad."},
      {key:"flujo",term:"Diagrama de flujo",def:"Pasos de un proceso representados con símbolos."},
      {key:"sinoptico",term:"Cuadro sinóptico",def:"Esquema de llaves que resume contenidos."},
      {key:"tabla_t",term:"Tabla T",def:"Dos columnas para comparar aspectos."},
      {key:"mapa_semantico",term:"Mapa semántico",def:"Red de términos agrupados por significado."},
      {key:"arbol_problemas",term:"Árbol de problemas",def:"Raíces=causas, tronco=problema, copa=efectos."},
      {key:"dofa",term:"Matriz DOFA",def:"Cuatro cuadrantes: Debilidades, Oportunidades, Fortalezas, Amenazas."},
      {key:"ishikawa",term:"Diagrama causa–efecto",def:"Espina de pescado que organiza causas de un efecto."},
      {key:"infografia",term:"Infografía",def:"Composición visual de texto, datos e imágenes."},
      {key:"telarana",term:"Telaraña",def:"Radial con ejes que muestran atributos de un objeto."},
      {key:"rueda_atributos",term:"Rueda de atributos",def:"Círculo dividido en secciones de cualidades."},
      {key:"priorizacion",term:"Matriz de priorización",def:"Cuadrante impacto/esfuerzo para decidir prioridades."},
      {key:"doble_entrada",term:"Matriz de doble entrada",def:"Tabla con filas y columnas para clasificar info."},
    ];

    let STATE={ok:0,err:0,left:ITEMS.length,name:"",locked:new Set(),used:new Set()};

    const bank=document.getElementById('bank');
    const board=document.getElementById('board');
    const ok=document.getElementById('ok');
    const err=document.getElementById('err');
    const left=document.getElementById('left');

    function shuffle(a){return a.map(v=>[Math.random(),v]).sort((x,y)=>x[0]-y[0]).map(x=>x[1]);}

    function render(){
      bank.innerHTML="";
      shuffle(ITEMS).forEach(it=>{
        if(STATE.used.has(it.key))return;
        const d=document.createElement('div');
        d.className='pill'; d.textContent=it.term; d.draggable=true; d.id='c_'+it.key; d.dataset.key=it.key;
        d.addEventListener('dragstart',e=>{e.dataTransfer.setData('text/plain',it.key)});
        bank.appendChild(d);
      });
      board.innerHTML="";
      shuffle(ITEMS).forEach(it=>{
        const z=document.createElement('div');
        z.className='drop'; z.dataset.ans=it.key; z.textContent=it.def;
        z.addEventListener('dragover',e=>{if(!STATE.locked.has(it.key)){e.preventDefault();z.classList.add('dragover')}});
        z.addEventListener('dragleave',()=>z.classList.remove('dragover'));
        z.addEventListener('drop',e=>{
          e.preventDefault();z.classList.remove('dragover');
          if(STATE.locked.has(it.key))return;
          const key=e.dataTransfer.getData('text/plain');
          const correct=(key===it.key);
          if(correct){z.classList.add('lock','ok');STATE.ok++;}else{z.classList.add('lock','err');STATE.err++;}
          STATE.locked.add(it.key);STATE.used.add(key);STATE.left--;
          const c=document.getElementById('c_'+key);if(c)c.remove();
          ok.textContent=STATE.ok;err.textContent=STATE.err;left.textContent=STATE.left;
        });
        board.appendChild(z);
      });
    }

    document.getElementById('btnStart').onclick=()=>{
      STATE.name=document.getElementById('name').value.trim();
      if(!STATE.name){alert("Escribe tu nombre");return;}
      render();
    };

    document.getElementById('btnFinish').onclick=()=>{
      const when=new Date().toLocaleString('es-CO');
      document.getElementById('result').innerHTML=`<div class="panel">Nombre: <b>${STATE.name}</b><br>Aciertos: ${STATE.ok}<br>Desaciertos: ${STATE.err}<br>Fecha y hora: ${when}</div>`;
    };
  </script>
</body>
</html>
